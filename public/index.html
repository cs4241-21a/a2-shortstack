<!doctype html>
<html lang="en">
  <head>
    <title>CS4241 Assignment 2</title>
      <link rel="stylesheet" href="css/style.css">
    <meta charset="utf-8">
    
      <script src="js/scripts.js"></script>

      <script>
        
        
        //For some reason I could not override the form tag, so I decided to send my data to the server through the url
        
        window.onload = function() {
          
              fetch( '/getdata', {
                method:'GET' 
              })
                .then( function( response ) {
                  response.text().then(function(text){
                    let table = document.getElementById("responses");
                    let data = JSON.parse(text)
                    table.innerHTML = "<th>Name</th><th>Responsibility</th> <th>Watches Football?</th> <th>Is a Patriots fan?</th>"
                    
                    
                    for(var key in data) {
                      updateTable(data[key].name, data[key].responsibility, data[key].watch, data[key].fan)
                    }
      
                  })

              })
        }
        
        function updateTable(name, responsibility, watch, fan){
          
          
          let table = document.getElementById("responses");
          let row = table.insertRow(1);
          let n = row.insertCell(0);
          let r = row.insertCell(1);
          let w = row.insertCell(2);
          let f = row.insertCell(3);

          n.innerHTML = name.replaceAll("+"," ");
          
          if(responsibility == "brady"){
            r.innerHTML = "Brady";
          } else if (responsibility == "equal"){
            r.innerHTML = "Equal";
          } else {
            r.innerHTML = "Bill"
          }
          
          if(watch == "y"){
              w.innerHTML = "Yes";
          } else {
              w.innerHTML = "No";
          }

          if(fan == "y"){
              f.innerHTML = "Yes";
          } else {
              f.innerHTML = "No";
          }

        }
        
        
        
    </script>
  </head>
  <body>
    <img src="https://cdn.glitch.com/465fda08-5b7e-44e3-a638-f41c1ae3c8a7%2Fpatriots.png?v=1631142741028" value="logo">
    
    <font size="+1"> 
      <h1> Who was more Responsible for the Patriots Dynasty</h1>
    </font>
    <div>
      <form method="post">
              
        <div class="r1">
          <div class="c1">
            <h1>
              Brady
            </h1>
            <img class="sub" src="https://cdn.glitch.com/465fda08-5b7e-44e3-a638-f41c1ae3c8a7%2Fbrady.jpg?v=1631142064266" style="width:100%">
            <label>
              <input type="radio" id="bradyChoice" name="brady-both-bill" value="brady">
            </label>
          </div>
          <div class="c1">
            <h1>
              Equal
            </h1>
            <img class="sub" src="https://cdn.glitch.com/465fda08-5b7e-44e3-a638-f41c1ae3c8a7%2FBoth.jpeg?v=1631142749990" style="width:100%">
            <label>
              <input type="radio" id="equalChoice" name="brady-both-bill" value="equal">
            </label>
          </div>
          <div class="c1">
            <h1>
              Bill
            </h1>
            <img class="sub" src="https://cdn.glitch.com/465fda08-5b7e-44e3-a638-f41c1ae3c8a7%2FBill%20Belichick.jpeg?v=1631142744174" style="width:100%">
            <label>
              <input type="radio" id="billChoice" name="brady-both-bill" value="billl">
            </label>
          </div>
        </div>

        <font size="+1"> 
          <h1> Do you watch football</h1>
        </font>

        <div class="r2">
          <div class="c2">
            <h1>
              Yes
            </h1>
            <img class="sub" src="https://cdn.glitch.com/465fda08-5b7e-44e3-a638-f41c1ae3c8a7%2Fhappy.jpg?v=1631154569613" style="width:100%">
            <label>
              <input type="radio" id="bradyChoice" name="watch" value="y">
            </label>
          </div>
          <div class="c2">
            <h1>
              No
            </h1>
            <img class="sub" src="https://cdn.glitch.com/465fda08-5b7e-44e3-a638-f41c1ae3c8a7%2Fmad.jfif?v=1631154577888" style="width:100%">
            <label>
              <input type="radio" id="equalChoice" name="watch" value="n">
            </label>
          </div>
        </div>
          
          
        <input type='text' name='yourname' value="your name here">
        <button id="thebutton">submit here</button>

        </form>
      </div>


    
    <div class = "box">
          <table id = "responses">
          <th>Name</th>
          <th>Responsibility</th>
          <th>Watches Football?</th>
          <th>Is a Patriots fan?</th>
      </table>
    </div>
    

  </body>
  

</html>
